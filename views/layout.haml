<!DOCTYPE html>
!!!
%html
  %head
    %meta{:name=> 'viewport', :content => 'width=device-width, initial-scale=1.0'}

    %link{:type => 'text/css', :href => '/css/bootstrap.min.css', :rel=>'stylesheet'}
    %link{:type => 'text/css', :href => '/css/syntax-defaults.css', :rel=>'stylesheet'}
    %link{:type => 'text/less', :href => '/css/application.less', :rel=>'stylesheet'}
    %link{:type => 'text/css', :href => 'http://fonts.googleapis.com/css?family=Roboto+Slab:700,400,100', :rel=>'stylesheet'}
    %link{:type => 'text/css', :href => 'http://fonts.googleapis.com/css?family=Press+Start+2P', :rel=>'stylesheet'}
    %script{src: "http://code.jquery.com/jquery.js"}
    %script{src: 'http://www.json.org/json2.js'}
    %title= "#{@title} | Summit Film House"
  %body
    = yield  

    / Syntax Highlighting
    %script{src: "https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"}
    / JavaScript plugins (requires jQuery)
    / Include all compiled plugins (below), or include individual files as needed
    %script{src: "/js/bootstrap.min.js"}
    %script{src: "/js/holder.js"}
    %script{src: "/js/less-1.6.1.min.js"}
    / Optionally enable responsive features in IE8. Respond.js can be obtained from https://github.com/scottjehl/Respond
    %script{src: "/js/respond.min.js"}

    :javascript
      $(function() {
        $('ul.nav li').each(function() {
          var href = $(this).find('a').attr('href');
          if (href === window.location.pathname) {
            $(this).addClass('active');
          }
        });
        $('#submit-layout').submit(function() {
            d = d.map(function(d){ return {x: d.x/w, y: d.y/h};});
            djson = JSON.stringify(d);
            $('<input type="hidden" name="d"/>').val(djson).appendTo(this);
            return true;
        });
      });

